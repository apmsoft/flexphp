{
    "validation": {
        "page": {
            "title": "페이지",
            "required": true,
            "filter": "chkNumber"
        },
        "scenario_id": {
            "title": "시나리오id",
            "required": true,
            "filter": "chkNumber"
        }
    },
    "authority": "{__FUNC__.chk_authority}({_DEFINE._AUTH_SUPERADMIN_LEVEL})",
    "model": {
        "page_limit": 10,
        "page_block_count": 5,
        "page": "{__REQ__.page}",
        "field": "msg"
    },
    "data": {
        
        "total_record": {
            "query": "{__QUERIES__.total_record}",
            "query_type": "single",
            "scheme": null,
            "params": {
                "columns": "id",
                "table": "{__TABLES__.chat_scenario_note}",
                "where": {
                    "__FIELD__": "{__MODEL__.field}",
                    "__Q__": "{__REQ__.q}",
                    "scenario_id": {
                        "condition": " = ",
                        "value": "{__REQ__.scenario_id}",
                        "coord": "AND"
                    }
                }
            },
            "outmsg": null
        },
        "list": {
            "query": "{__QUERIES__.loop_query}",
            "query_type": "multiple",
            "scheme": {
                "title": {
                    "title": "제목"
                },
                "signdate": {
                    "title": "등록일",
                    "value": "{__FUNC__.date}({__TEXT__.Y-m-d},{__DATA__.signdate})"
                }
            },
            "params": {
                "columns": "id,msg,signdate",
                "table": "{__TABLES__.chat_scenario_note}",
                "where": {
                    "__FIELD__": "{__MODEL__.field}",
                    "__Q__": "{__REQ__.q}",
                    "scenario_id": {
                        "condition": " = ",
                        "value": "{__REQ__.scenario_id}",
                        "coord": "AND"
                    }
                },
                "orderby": "id DESC",
                "limit": "{__FUNC__.limit}({__DATA__.total_record.count},{__REQ__.page},{__MODEL__.page_limit},{__MODEL__.page_block_count})"
            },
            "outmsg": null,
            "then": null
        }
    },
    "output": {
        "result": "true",
        "page": "{__REQ__.page}",
        "total_page": "{__MODEL__.totalPage}",
        "total_record": "{__DATA__.total_record.count}",
        "paging": "{__MODEL__.paging_relation}",
        "q": "{__REQ__.q}",
        "category": "{__REQ__.category}",
        "category_navi": "",
        "msg": "{__DATA__.list.fetch()}"
    }
}