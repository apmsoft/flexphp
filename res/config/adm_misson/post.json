{
    "validation": {
        "evtid": {
            "title"   : "이벤트",
            "required": true,
            "filter"  : "chkNumber"
        }
    },

    "authority" : "{__FUNC__.chk_authority}({_DEFINE._AUTH_SUPERADMIN_LEVEL})",

    "model": {
    },

    "data":{
        "total_record" : {
            "query"  : "{__QUERIES__.total_record}",
            "query_type": "single",
            "params" : {
                "columns": "id",
                "table"  : "{__TABLES__.misson}",
                "where"  : {
                    "evtid" : {
                        "condition": " = ",
                        "value"    : "{__REQ__.evtid}",
                        "coord"    : "AND"
                    }
                }
            },
            "outmsg" : null
        },
        "post" :{
            "query"  : null,
            "query_type": "post",
            "scheme" : {
                "sortno" : {
                    "type" : "select",
                    "default":"{__ARRAY__.misson_sortno}",
                    "title" : "순번",
                    "value" : "{__DATA__.total_record.count}"
                },
                "msg" : {
                    "type" : "textarea",
                    "title" : "메세지"
                },
                "description" : {
                    "title" : "내용",
                    "type" : "textarea"
                },
                "linkurl" : {
                    "title" : "링크"
                },
                "extract_id" : {
                    "type" : "file",
                    "doc_id" : "adm_misson",
                    "default" : "{__UPLOADABLE__.file_extension}",
                    "number_files_allowed" : "{__FUNC__.intval}({__UPLOADABLE__.number_files_allowed})",
                    "value": "{__FUNC__.create_upload_token}({__TABLES__.misson})",
                    "title" : "첨부파일"
                },
                "coupon" : {
                    "title" : "쿠폰",
                    "readonly" : "readonly"
                },
                "misson_way" : {
                    "type" : "radio",
                    "title" : "미션조건",
                    "default" : "{__ARRAY__.misson_category}"
                },
                "misson_token":{
                    "type" : "hidden",
                    "value": "{__FUNC__.create_upload_token}({__TEXT__.evt}{__REQ__.evtid})"
                }
            },
            "params" : null,
            "outmsg" : null
        }
    },

    "output": {
        "result": "true",
        "scheme":"{__SCHEME__.post}",
        "msg": ""
    }
}